<!DOCTYPE html>
<html>
    <head>

    </head>

    <body>
        <h1>Welcome to our coffee shop!</h1>
        <label for="numberOfCoffees">Order amount of coffee cups</label>
        <input id="numberOfCoffees"/>
        <button onclick="onBuyButtonClick()">Buy coffee!</button>

        <div>
            You have spent: <b id="totalSpent"></b> kr on coffee this month!
        </div>

        <script>
            class Customer {
                    constructor() {
                        this.transactions = []
                        this.discountThreshold = 1000
                    }
                    addTransaction(amount) {
                        this.transactions.push(amount)
                    }
                    getTotalSpent() {
                        let sum = 0
                        this.transactions.forEach(transaction => {
                            sum += transaction
                        })
                        return sum
                    }
                    isEligableForDiscount() {
                        //Om totalt Ã¤r >= discountThreshhold: returnera true, annars false
                        return this.getTotalSpent() >= this.discountThreshold
                    }
                }

                const customer = new Customer()
                
                function onBuyButtonClick() {
                    const input = document.getElementById("numberOfCoffees")
                    const pricePerCup = 50
                    console.log(input.value)

                    const transactionValue = pricePerCup * input.value
                    console.log(transactionValue)
                    
                    customer.addTransaction(transactionValue)
                    console.log(customer.transactions)

                    const totalSpentParagraph = document.getElementById("totalSpent")
                    totalSpentParagraph.innerHTML = customer.getTotalSpent()
                }

        </script>
    </body>
</html>